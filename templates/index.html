<!DOCTYPE html>
<html ng-app="quadrado">
  <head>
  	<meta charset="utf-8">
  	<title>n</title>
  	<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js" type="text/javascript"></script>
  	<script type="text/javascript">
  		var numList = {{ numList }};
  	</script>
  	<script type="text/javascript">
  		angular.module('quadrado', [])
  		  .controller('Control', ["$http", function($http){
  		    var self = this;
  		    
  		    self.init = 1;
  		    self.end = 10;
  		    self.lt = numList;
  		    
  		    
  		    self.updateVar = function(){
  		      self.init = self.lt[0];
  		      self.end  = self.lt[self.lt.length - 1]
  		    };
  		    
  		    self.canShowBack = function(){
  		      return self.init > 1;
  		    }
  		    
  		    self.get = function(value){
  		      $http.get('/numdata', {params:{'op': value}})
  		        .then(function(resp){
  		          self.lt = resp.data['numList'];
  		          self.updateVar();
  		        }, function(err){
  		          console.log('umm eroo aconteceu; ', err);
  		        
  		        })
  		    };
  		    
  		  }]);
  	</script>
  	<style>

  	  ul {
  	  	list-style: none;
  	  	width: 300px;
  	  }
  	  .even {
  	    background-color: rgb(150, 160, 240);
  	  }
  	  ul li {
  	    text-align: center;
  	  }
  	</style>
  </head>
  <body ng-controller="Control as ctrl">
    <h2>Quadrado de números</h2>
    <p>inicio <span ng-bind="ctrl.init"></span> até <span ng-bind="ctrl.end"></span></p>
    
    <ul>
    	<li ng-repeat="elemento in ctrl.lt">
    	    <div ng-class-even="'even'">
    	        <span ng-bind="elemento"></span>
    	        <sup>2</sup> = <span ng-bind="elemento * elemento"></span>
    	    </div>
    	
    	    
    	</li>
    	    	
    </ul>
    <button ng-if="ctrl.canShowBack()" ng-click="ctrl.get(-1)">back</button>
    <button type="button" ng-click="ctrl.get(1)">next</button>       
  	
  </body>
  
</html>
